<form #divisionsForm="ngForm">
  <div class="edit-form">
    <div
      *ngIf="conference.divisions.length > 0; else noDivisionsTemplate"
      class="divisions-container"
    >
      <div class="divisions-list">
        <mat-card
          *ngFor="let division of conference.divisions; let i = index"
          class="division-card"
        >
          <mat-card-content class="card-content">
            <div class="form-field-container">
              <mat-form-field appearance="outline" class="full-width-field">
                <mat-label>Name</mat-label>
                <input
                  matInput
                  [(ngModel)]="conference.divisions[i].name"
                  name="{{ i }}-name"
                  #name="ngModel"
                  required
                />
                <mat-error *ngIf="name.invalid"
                  >Please enter a valid name.
                </mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline" class="full-width-field">
                <mat-label>Short Name</mat-label>
                <input
                  matInput
                  [(ngModel)]="conference.divisions[i].shortName"
                  name="{{ i }}-shortName"
                  #shortName="ngModel"
                  required
                />
                <mat-error *ngIf="shortName.invalid"
                  >Please enter a valid short name.
                </mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline" class="full-width-field">
                <mat-label>Divisions ID</mat-label>
                <input
                  matInput
                  [(ngModel)]="conference.divisions[i].divisionId"
                  name="{{ i }}-divisionId"
                  #divisionId="ngModel"
                  required
                  readonly
                />
                <mat-error *ngIf="divisionId.invalid"
                  >Division ID is required.
                </mat-error>
              </mat-form-field>
            </div>
            <button
              mat-button
              color="warn"
              (click)="removeDivision(i)"
              class="remove-button"
            >
              Remove
            </button>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    <ng-template #noDivisionsTemplate>
      <p class="no-divisions-text">No divisions yet.</p>
    </ng-template>
    <button
      mat-raised-button
      color="primary"
      (click)="addDivision()"
      class="add-division-button"
    >
      Add Division
    </button>
  </div>
</form>
