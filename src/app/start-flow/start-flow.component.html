<mat-stepper [linear]="isLinear" #stepper>
  <mat-step
    label="Select School Data"
    [stepControl]="schoolDataFormGroup"
    [editable]="false"
  >
    <form [formGroup]="schoolDataFormGroup">
      <div class="stepper-container">
        <mat-card
          *ngFor="let option of schoolDataOptions"
          class="option-card"
          [class.selected]="
            schoolDataFormGroup.value.schoolData === option.type
          "
          (click)="selectSchoolData(option.type); option.action()"
        >
          <mat-card-header>
            <mat-card-title>{{ option.title }}</mat-card-title>
          </mat-card-header>
          <img mat-card-image [alt]="option.title" [src]="option.image" />
          <mat-card-content>{{ option.description }}</mat-card-content>
        </mat-card>
      </div>
    </form>
  </mat-step>
  <mat-step
    label="Conference Alignment Setup"
    [stepControl]="alignmentFormGroup"
  >
    <form [formGroup]="alignmentFormGroup">
      <div class="stepper-container">
        <mat-card
          *ngFor="
            let option of alignmentOptions
              | filterOptions: schoolDataFormGroup.value.schoolData
          "
          class="option-card"
          [class.selected]="alignmentFormGroup.value.alignment === option.type"
          (click)="selectAlignment(option.type, option.action); option.action()"
        >
          <mat-card-header>
            <mat-card-title>{{ option.title }}</mat-card-title>
          </mat-card-header>
          <img mat-card-image [alt]="option.title" [src]="option.image" />
          <mat-card-content>{{ option.description }}</mat-card-content>
        </mat-card>
      </div>
      <input
        type="file"
        hidden
        #fileInput
        (change)="importConferenceAlignment($event)"
      />
    </form>
  </mat-step>
  <mat-step label="Edit Conference Alignment" optional>
    <div>
      <button mat-button matStepperNext>Next</button>
      <button mat-button matStepperPrevious>Back</button>
    </div>
    <ng-container *ngIf="stepper.selectedIndex === 2">
      <app-conference-editor></app-conference-editor>
    </ng-container>
  </mat-step>
  <mat-step label="Import Schedule">
    <p>You are now done.</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-stepper>
